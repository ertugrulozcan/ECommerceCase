@model ECommerceCase.WebClient.ViewModels.Menu.NavigationMenuViewModel

<nav class="w3-sidebar w3-bar-block w3-white w3-collapse w3-top" style="z-index:3;width:250px;" id="mySidebar">
	<div class="w3-container w3-display-container w3-padding-16">
		<i onclick="w3_close()" class="fa fa-remove w3-hide-large w3-button w3-display-topright"></i>
		<h3 class="w3-wide">
			<div style="padding-top: 17px">
				<b>LOGO</b>
			</div>
		</h3>
	</div>
	
	@if (Model.Menu != null)
	{
		<div class="w3-padding-64 w3-large w3-text-grey" style="font-weight:bold">
			@foreach (var menuItem in Model.Menu)
			{
				if (menuItem.SubItems != null && menuItem.SubItems.Any())
				{
					<a onclick="myAccFunc()" href="@menuItem.Href" class="w3-button w3-block w3-white w3-left-align" id="myBtn">
						@menuItem.Title <i class="fa fa-caret-down"></i>
					</a>
					<div id="demoAcc" class="w3-bar-block w3-hide w3-padding-large w3-medium">
						@* <a href="#" class="w3-bar-item w3-button w3-light-grey"><i class="fa fa-caret-right w3-margin-right"></i>Skinny</a> *@
						@foreach (var subMenuItem in menuItem.SubItems)
						{
							<a href="@subMenuItem.Href" class="w3-bar-item w3-button">@subMenuItem.Title</a>
						}
					</div>
				}
				else
				{
					<a href="@menuItem.Href" class="w3-bar-item w3-button">@menuItem.Title</a>
				}
			}	
		</div>	
	}
	
	<a href="#footer" class="w3-bar-item w3-button w3-padding">Contact</a>
</nav>

<!-- Top menu on small screens -->
<header class="w3-bar w3-top w3-hide-large w3-black w3-xlarge">
	<div class="w3-bar-item w3-padding-24 w3-wide">LOGO</div>
	<a href="javascript:void(0)" class="w3-bar-item w3-button w3-padding-24 w3-right" onclick="w3_open()">
		<i class="fa fa-bars"></i>
	</a>
</header>

<!-- Overlay effect when opening sidebar on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>

<script>

// Accordion 
function myAccFunc() 
{
	let x = document.getElementById("demoAcc");
	if (x.className.indexOf("w3-show") == -1) 
	{
		x.className += " w3-show";
	} 
	else 
	{
		x.className = x.className.replace(" w3-show", "");
	}
}

// Click on the "Jeans" link on page load to open the accordion for demo purposes
document.getElementById("myBtn").click();

// Open and close sidebar
function w3_open() 
{
	document.getElementById("mySidebar").style.display = "block";
	document.getElementById("myOverlay").style.display = "block";
}
 
function w3_close() 
{
	document.getElementById("mySidebar").style.display = "none";
	document.getElementById("myOverlay").style.display = "none";
}

</script>
